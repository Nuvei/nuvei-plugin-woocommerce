(()=>{var e,n,t,o,i,r,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},c=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(e,n){for(var t in n)e[t]=n[t];return e}function s(e){var n=e.parentNode;n&&n.removeChild(e)}function p(e,o,i,r,a){var l={type:e,props:o,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++t:a};return null!=n.vnode&&n.vnode(l),l}function _(e){return e.children}function f(e,n){this.props=e,this.context=n}function h(e,n){if(null==n)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?h(e):null}function b(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return b(e)}}function g(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!m.__r++||r!==n.debounceRendering)&&((r=n.debounceRendering)||i)(m)}function m(){for(var e;m.__r=o.length;)e=o.sort((function(e,n){return e.__v.__b-n.__v.__b})),o=[],e.some((function(e){var n,t,o,i,r,a;e.__d&&(r=(i=(n=e).__v).__e,(a=n.__P)&&(t=[],(o=d({},i)).__v=i.__v+1,P(a,i,o,n.__n,void 0!==a.ownerSVGElement,null!=i.__h?[r]:null,t,null==r?h(i):r,i.__h),C(t,i),i.__e!=r&&b(i)))}))}function y(e,n,t,o,i,r,a,u,d,s){var f,b,g,m,y,k,w,S=o&&o.__k||c,A=S.length;for(t.__k=[],f=0;f<n.length;f++)if(null!=(m=t.__k[f]=null==(m=n[f])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?p(null,m,null,null,m):Array.isArray(m)?p(_,{children:m},null,null,null):m.__b>0?p(m.type,m.props,m.key,null,m.__v):m)){if(m.__=t,m.__b=t.__b+1,null===(g=S[f])||g&&m.key==g.key&&m.type===g.type)S[f]=void 0;else for(b=0;b<A;b++){if((g=S[b])&&m.key==g.key&&m.type===g.type){S[b]=void 0;break}g=null}P(e,m,g=g||l,i,r,a,u,d,s),y=m.__e,(b=m.ref)&&g.ref!=b&&(w||(w=[]),g.ref&&w.push(g.ref,null,m),w.push(b,m.__c||y,m)),null!=y?(null==k&&(k=y),"function"==typeof m.type&&null!=m.__k&&m.__k===g.__k?m.__d=d=v(m,d,e):d=x(e,m,g,S,y,d),s||"option"!==t.type?"function"==typeof t.type&&(t.__d=d):e.value=""):d&&g.__e==d&&d.parentNode!=e&&(d=h(g))}for(t.__e=k,f=A;f--;)null!=S[f]&&("function"==typeof t.type&&null!=S[f].__e&&S[f].__e==t.__d&&(t.__d=h(o,f+1)),N(S[f],S[f]));if(w)for(f=0;f<w.length;f++)E(w[f],w[++f],w[++f])}function v(e,n,t){var o,i;for(o=0;o<e.__k.length;o++)(i=e.__k[o])&&(i.__=e,n="function"==typeof i.type?v(i,n,t):x(t,i,i,e.__k,i.__e,n));return n}function x(e,n,t,o,i,r){var a,l,c;if(void 0!==n.__d)a=n.__d,n.__d=void 0;else if(null==t||i!=r||null==i.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(i),a=null;else{for(l=r,c=0;(l=l.nextSibling)&&c<o.length;c+=2)if(l==i)break e;e.insertBefore(i,r),a=r}return void 0!==a?a:i.nextSibling}function k(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||u.test(n)?t:t+"px"}function w(e,n,t,o,i){var r;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(n in o)t&&n in t||k(e.style,n,"");if(t)for(n in t)o&&t[n]===o[n]||k(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])r=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+r]=t,t?o||e.addEventListener(n,r?A:S,r):e.removeEventListener(n,r?A:S,r);else if("dangerouslySetInnerHTML"!==n){if(i)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null!=t&&(!1!==t||"a"===n[0]&&"r"===n[1])?e.setAttribute(n,t):e.removeAttribute(n))}}function S(e){this.l[e.type+!1](n.event?n.event(e):e)}function A(e){this.l[e.type+!0](n.event?n.event(e):e)}function P(t,o,i,r,a,c,u,p,b){var g,m,v,x,k,S,A,P,C,E,N,B=o.type;if(void 0!==o.constructor)return null;null!=i.__h&&(b=i.__h,p=o.__e=i.__e,o.__h=null,c=[p]),(g=n.__b)&&g(o);try{e:if("function"==typeof B){if(P=o.props,C=(g=B.contextType)&&r[g.__c],E=g?C?C.props.value:g.__:r,i.__c?A=(m=o.__c=i.__c).__=m.__E:("prototype"in B&&B.prototype.render?o.__c=m=new B(P,E):(o.__c=m=new f(P,E),m.constructor=B,m.render=R),C&&C.sub(m),m.props=P,m.state||(m.state={}),m.context=E,m.__n=r,v=m.__d=!0,m.__h=[]),null==m.__s&&(m.__s=m.state),null!=B.getDerivedStateFromProps&&(m.__s==m.state&&(m.__s=d({},m.__s)),d(m.__s,B.getDerivedStateFromProps(P,m.__s))),x=m.props,k=m.state,v)null==B.getDerivedStateFromProps&&null!=m.componentWillMount&&m.componentWillMount(),null!=m.componentDidMount&&m.__h.push(m.componentDidMount);else{if(null==B.getDerivedStateFromProps&&P!==x&&null!=m.componentWillReceiveProps&&m.componentWillReceiveProps(P,E),!m.__e&&null!=m.shouldComponentUpdate&&!1===m.shouldComponentUpdate(P,m.__s,E)||o.__v===i.__v){m.props=P,m.state=m.__s,o.__v!==i.__v&&(m.__d=!1),m.__v=o,o.__e=i.__e,o.__k=i.__k,o.__k.forEach((function(e){e&&(e.__=o)})),m.__h.length&&u.push(m);break e}null!=m.componentWillUpdate&&m.componentWillUpdate(P,m.__s,E),null!=m.componentDidUpdate&&m.__h.push((function(){m.componentDidUpdate(x,k,S)}))}m.context=E,m.props=P,m.state=m.__s,(g=n.__r)&&g(o),m.__d=!1,m.__v=o,m.__P=t,g=m.render(m.props,m.state,m.context),m.state=m.__s,null!=m.getChildContext&&(r=d(d({},r),m.getChildContext())),v||null==m.getSnapshotBeforeUpdate||(S=m.getSnapshotBeforeUpdate(x,k)),N=null!=g&&g.type===_&&null==g.key?g.props.children:g,y(t,Array.isArray(N)?N:[N],o,i,r,a,c,u,p,b),m.base=o.__e,o.__h=null,m.__h.length&&u.push(m),A&&(m.__E=m.__=null),m.__e=!1}else null==c&&o.__v===i.__v?(o.__k=i.__k,o.__e=i.__e):o.__e=function(n,t,o,i,r,a,c,u){var d,p,_,f=o.props,b=t.props,g=t.type,m=0;if("svg"===g&&(r=!0),null!=a)for(;m<a.length;m++)if((d=a[m])&&(d===n||(g?d.localName==g:3==d.nodeType))){n=d,a[m]=null;break}if(null==n){if(null===g)return document.createTextNode(b);n=r?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,b.is&&b),a=null,u=!1}if(null===g)f===b||u&&n.data===b||(n.data=b);else{if(a=a&&e.call(n.childNodes),p=(f=o.props||l).dangerouslySetInnerHTML,_=b.dangerouslySetInnerHTML,!u){if(null!=a)for(f={},m=0;m<n.attributes.length;m++)f[n.attributes[m].name]=n.attributes[m].value;(_||p)&&(_&&(p&&_.__html==p.__html||_.__html===n.innerHTML)||(n.innerHTML=_&&_.__html||""))}if(function(e,n,t,o,i){var r;for(r in t)"children"===r||"key"===r||r in n||w(e,r,null,t[r],o);for(r in n)i&&"function"!=typeof n[r]||"children"===r||"key"===r||"value"===r||"checked"===r||t[r]===n[r]||w(e,r,n[r],t[r],o)}(n,b,f,r,u),_)t.__k=[];else if(m=t.props.children,y(n,Array.isArray(m)?m:[m],t,o,i,r&&"foreignObject"!==g,a,c,a?a[0]:o.__k&&h(o,0),u),null!=a)for(m=a.length;m--;)null!=a[m]&&s(a[m]);u||("value"in b&&void 0!==(m=b.value)&&(m!==n.value||"progress"===g&&!m)&&w(n,"value",m,f.value,!1),"checked"in b&&void 0!==(m=b.checked)&&m!==n.checked&&w(n,"checked",m,f.checked,!1))}return n}(i.__e,o,i,r,a,c,u,b);(g=n.diffed)&&g(o)}catch(e){o.__v=null,(b||null!=c)&&(o.__e=p,o.__h=!!b,c[c.indexOf(p)]=null),n.__e(e,o,i)}}function C(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function E(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,o)}}function N(e,t,o){var i,r;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||E(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&N(i[r],t,"function"!=typeof e.type);o||null==e.__e||s(e.__e),e.__e=e.__d=void 0}function R(e,n,t){return this.constructor(e,t)}function B(t,o,i){var r,a,c;n.__&&n.__(t,o),a=(r="function"==typeof i)?null:i&&i.__k||o.__k,c=[],P(o,t=(!r&&i||o).__k=function(n,t,o){var i,r,a,l={};for(a in t)"key"==a?i=t[a]:"ref"==a?r=t[a]:l[a]=t[a];if(arguments.length>2&&(l.children=arguments.length>3?e.call(arguments,2):o),"function"==typeof n&&null!=n.defaultProps)for(a in n.defaultProps)void 0===l[a]&&(l[a]=n.defaultProps[a]);return p(n,l,i,r,null)}(_,null,[t]),a||l,l,void 0!==o.ownerSVGElement,!r&&i?[i]:a?null:o.firstChild?e.call(o.childNodes):null,c,!r&&i?i:a?a.__e:o.firstChild,r),C(c,t)}e=c.slice,n={__e:function(e,n){for(var t,o,i;n=n.__;)if((t=n.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(e)),i=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(e),i=t.__d),i)return t.__E=t}catch(n){e=n}throw e}},t=0,f.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},t),this.props)),e&&d(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),g(this))},f.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},f.prototype.render=_,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,m.__r=0;var D=0;function F(e,t,o,i,r){var a,l,c={};for(l in t)"ref"==l?a=t[l]:c[l]=t[l];var u={type:e,props:c,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--D,__source:i,__self:r};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===c[l]&&(c[l]=a[l]);return n.vnode&&n.vnode(u),u}var T,I,O,q=0,H=[],W=n.__b,z=n.__r,M=n.diffed,$=n.__c,L=n.unmount;function j(e,t){n.__h&&n.__h(I,e,q||t),q=0;var o=I.__H||(I.__H={__:[],__h:[]});return e>=o.__.length&&o.__.push({}),o.__[e]}function U(e){return q=1,function(e,n,t){var o=j(T++,2);return o.t=e,o.__c||(o.__=[t?t(n):Q(void 0,n),function(e){var n=o.t(o.__[0],e);o.__[0]!==n&&(o.__=[n,o.__[1]],o.__c.setState({}))}],o.__c=I),o.__}(Q,e)}function V(e,t){var o=j(T++,3);!n.__s&&K(o.__H,t)&&(o.__=e,o.__H=t,I.__H.__h.push(o))}function G(){H.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Y),e.__H.__h.forEach(X),e.__H.__h=[]}catch(t){e.__H.__h=[],n.__e(t,e.__v)}})),H=[]}n.__b=function(e){I=null,W&&W(e)},n.__r=function(e){z&&z(e),T=0;var n=(I=e.__c).__H;n&&(n.__h.forEach(Y),n.__h.forEach(X),n.__h=[])},n.diffed=function(e){M&&M(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==H.push(t)&&O===n.requestAnimationFrame||((O=n.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(o),J&&cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,100);J&&(n=requestAnimationFrame(t))})(G)),I=void 0},n.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Y),e.__h=e.__h.filter((function(e){return!e.__||X(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n.__e(o,e.__v)}})),$&&$(e,t)},n.unmount=function(e){L&&L(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(Y)}catch(e){n.__e(e,t.__v)}};var J="function"==typeof requestAnimationFrame;function Y(e){var n=I;"function"==typeof e.__c&&e.__c(),I=n}function X(e){var n=I;e.__c=e.__(),I=n}function K(e,n){return!e||e.length!==n.length||n.some((function(n,t){return n!==e[t]}))}function Q(e,n){return"function"==typeof n?n(e):n}const Z=function(e){var n={};try{n=JSON.parse(e)}catch(e){n={error:{type:"network",code:"invalid response",message:"SafeCharge Server returned invalid response"}}}return n};function ee(e){return{color:"color",fontFamily:"font-family",fontSize:"font-size",fontSmoothing:["font-smooth","-webkit-font-smoothing","-moz-osx-font-smoothing"],"-webkit-font-smoothing":"-webkit-font-smoothing","-moz-osx-font-smoothing":"-moz-osx-font-smoothing",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",lineHeight:"line-height",letterSpacing:"letter-spacing",textAlign:"text-align",textDecoration:"text-decoration",textShadow:"text-shadow",textTransform:"text-transform","::placeholder":["::-webkit-input-placeholder","::-moz-placeholder",":-ms-input-placeholder",":-moz-placeholder"],"::selection":["::selection","::-moz-selection"],"::-ms-clear":["::-ms-clear"],":-webkit-autofill":":-webkit-autofill",":disabled":":disabled",":focus":":focus",":hover":":hover",border:"border",borderRadius:"border-radius",opacity:"opacity",display:"display",width:"width",boxSizing:"box-sizing",alignItems:"align-items",margin:"margin",maxWidth:"max-width",minWidth:"min-width",flexWrap:"flex-wrap",flexDirection:"flex-direction",height:"height",backgroundColor:"background-color",outline:"outline",cursor:"cursor",alignSelf:"align-self",alignContent:"align-content",justifyContent:"justify-content",padding:"padding",position:"position",borderBottom:"border-bottom",overflow:"overflow",right:"right",top:"top",left:"left",pointerEvents:"pointer-events",content:"content",borderLeft:"border-left",borderRight:"border-right",borderTop:"border-top",borderWidth:"border-width",transform:"transform",marginLeft:"margin-left",marginRight:"margin-right",appearance:"appearance",backgroundImage:"background-image",animationName:"animation-name",animationDuration:"animation-duration",zIndex:"z-index",boxShadow:"box-shadow",borderColor:"border-color",maxHeight:"max-height"}[e]}const ne=e=>F("div",{class:"nuvei-dropdown-bank",children:F("select",{class:"nuvei-globalPay-bank-select",onChange:e.handleSelectedAccount,children:e.bankAccounts.map((e=>F("option",{value:e.accountNumber+"-"+e.routingNumber,children:[e.bankName,", ",e.accountNumber.slice(0,1),"*",e.accountNumber.slice(-4)]})))})});function te({validations:e,defaultValue:n={}}){if(!e)throw new Error("the option `validations` is required");if("object"!=typeof e)throw new Error("the option `validations` should be an object");const[t,o]=U({}),[i,r]=U({}),[a,l]=U({}),[c,u]=U({});function d(n,o){const i=e[n];if(i){if(i.required&&!o.trim())return"string"==typeof i.required?i.required:"required";if(i.checked&&"true"!==o)return"string"==typeof i.checked?i.checked:"must be checked";if(i.pattern&&!new RegExp(i.pattern.value).exec(o))return i.pattern.message||"invalid";if(i.sameAs&&o!==t[i.sameAs.field])return i.sameAs.message||"invalid";if(i.validate&&"function"==typeof i.validate){const e=i.validate(o);if(e)return e}}return""}return{values:t,errors:i,isTouched:a,isBlured:c,setIsTouched:l,setIsBlured:u,validateField:d,bindField:function(i){if(!i)throw new Error("The field name parameter is required");if(i&&"string"!=typeof i)throw new Error("The field name should be a string");return V((()=>{r((e=>({...e,[i]:d(i,"")}))),u((e=>({...e,[i]:!1}))),l((e=>({...e,[i]:!1}))),o((e=>({...e,[i]:n[i]}))),n[i]&&r((e=>({...e,[i]:d(i,n[i])})))}),[]),{value:t[i]||"",onInput:n=>{let{value:t}=n.target,r=function(n,t){const o=e[n];return o?.addAction&&(t=o?.addAction(t)),t}(i,t);r&&(t=r),o((e=>({...e,[i]:t}))),l((e=>({...e,[i]:!0})))},onBlur:n=>{const{value:o}=n.target;u((e=>({...e,[i]:!0}))),r((e=>({...e,[i]:d(i,o)})));const a=e[i];a?.confirmedBy&&r((e=>({...e,[a?.confirmedBy.field]:d(a.confirmedBy.field,t[a.confirmedBy.field])})))},onFocus:e=>{r((e=>({...e,[i]:""})))},onChange:e=>{const{value:n}=e.target;o((e=>({...e,[i]:n}))),l((e=>({...e,[i]:!0})))},onKeyDown:e=>{if("Enter"===e.key&&"sighlineSSN"===e.target.id){const{value:n}=e.target;r((e=>({...e,[i]:d(i,n)})))}},onClick:e=>{if("checkbox"!==e.target.type)return;const{checked:n}=e.target;o((e=>({...e,[i]:n}))),n||r((e=>({...e,[i]:d(i,n)})))}}},resetValues:function(){Object.keys(t).forEach((e=>{o(t[e]=""),r((n=>({...n,[e]:d(e,"")})))}))},clearValidation:function(e){r((n=>({...n,[e]:null})))}}}const oe=({callGetAccountDetails:e})=>{const[n,t]=U(!1),{values:o,errors:i,isTouched:r,isBlured:a,setIsTouched:l,setIsBlured:c,bindField:u,resetValues:d}=te({validations:{bankAccount:{pattern:{value:/^\w{4,500}$/,message:"Please enter at least 4 characters."},confirmedBy:{field:"confirmBank"}},confirmBank:{pattern:{value:/^\w{4,500}$/,message:"Please enter at least 4 characters."},sameAs:{field:"bankAccount",message:"Please, check whether two bank accounts are the same."}},routingAccout:{required:"This field is required.",pattern:{value:/^\w{8,500}$/,message:"Please enter at least 8 characters."}}}});let s=()=>{document.getElementById("nuvei-globalpay-modal").style.display="none"};const p=n=>{"SUCCESS"===n.status&&(t(!1),s(),e()),"ERROR"===n.status&&(t(!1),s(),e()),window.globalpay.cb(n)};return F("div",{class:"addBankButton",children:[F("button",{onClick:function(){d(),l((e=>({...e,bankAccount:!1,confirmBank:!1,routingAccout:!1}))),c((e=>({...e,bankAccount:!1,confirmBank:!1,routingAccout:!1}))),document.getElementById("nuvei-globalpay-modal").style.display="block"},class:"addBankAccount",children:"Add Bank Account"}),F("div",{id:"nuvei-globalpay-modal",class:"nuvei-globalpay-modal",children:F("div",{class:"nuvei-globalpay-modal-content",children:[F("div",{class:"nuvei-globalpay-modal-header",children:F("h2",{class:"nuvei-globalpay-header-content",children:"Add Bank Account"})}),F("h2",{class:"nuvei-globalpay-modal-header-border"}),F("div",{class:"nuvei-globalpay-modal-body",children:F("form",{onSubmit:function(e){e.preventDefault();let n=[];var r,a,u,d,s;Object.keys(i).forEach((e=>(i[e].length>0?n.push(!1):n.push(!0),n))),c((e=>({...e,bankAccount:!0,confirmBank:!0,routingAccout:!0}))),n.includes(!1)||(window.globalpay.globalpayParams.paymentOption={alternativePaymentMethod:{paymentMethod:"apmgw_VIP_Preferred"}},window.globalpay.globalpayParams.bankAccount={accountNumber:o.bankAccount,routingNumber:o.routingAccout},t(!0),r=globalpay.server,a=globalpay.globalpayParams,u=p,d=new XMLHttpRequest,s=r+"/ppp/api/v1/addBankAccount.do",d.open("POST",s,!0),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.timeout=3e4,d.onerror=function(){u({status:"ERROR",type:"network",code:"connection_timeout",errorDescription:"Connection to Safecharge server timed out."})},d.ontimeout=function(){return u({error:{type:"network",code:"connection_timeout",message:"Connection to Safecharge server timed out."}})},d.onload=function(){if(200===d.status){let e=Z(d.responseText);"ERROR"===e.status&&u(e),"ERROR"!==e.status&&u(e)}},d.send(JSON.stringify(a))),n.includes(!1)&&(l((e=>({...e,bankAccount:!0,confirmBank:!0,routingAccout:!0}))),globalpay.cb(i))},children:[F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.bankAccount&&i.bankAccount?"error-field":a.bankAccount&&!i.bankAccount?"valid-field":""),type:"text",id:"bankAccount",placeholder:"Bank Account",...u("bankAccount")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.bankAccount&&i.bankAccount&&i.bankAccount})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.confirmBank&&i.confirmBank?"error-field":a.confirmBank&&!i.confirmBank?"valid-field":""),type:"text",id:"confirmBank",placeholder:"Confirm Bank Account",...u("confirmBank")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.confirmBank&&i.confirmBank&&i.confirmBank})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.routingAccout&&i.routingAccout?"error-field":a.routingAccout&&!i.routingAccout?"valid-field":""),type:"text",id:"routingAccout",placeholder:"Routing Account",...u("routingAccout")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.routingAccout&&i.routingAccout&&i.routingAccout})]}),F("div",{class:"nuvei-globalpay-buttons",children:[F("button",{class:"nuvei-globalpay-submit-button",type:"submit",children:"Submit"}),F("button",{class:"nuvei-globalpay-close-button",type:"button",onClick:s,children:"Close"})]})]})},Math.random),n&&F("div",{children:"LOADING..."})]})})]})},ie=({callGetAccountDetails:e})=>{const[n,t]=U(!1);V((()=>{s()}),[]);const{values:o,errors:i,isTouched:r,isBlured:a,setIsTouched:l,setIsBlured:c,bindField:u,resetValues:d}=te({validations:{idNumber:{required:"This field is required.",pattern:{value:/^\w{6,30}$/,message:"Please enter at least 6 characters."}},idSelect:{required:"This field is required."},idExpiry:{required:"This field is required.",pattern:{value:/^\w{4,4}$/,message:"Please enter at least 4 characters."}},idState:{required:"This field is required.",pattern:{value:/^\w{2,2}$/,message:"Please enter at least 2 characters."}},bankAccount:{required:"This field is required.",pattern:{value:/^\w{4,17}$/,message:"Please enter at least 4 characters."}},routingAccout:{required:"This field is required.",pattern:{value:/^\w{8,9}$/,message:"Please enter at least 8 characters."}},globalPaySSN:{required:"This field is required.",pattern:{value:/^\w{9,9}$/,message:"Please enter at least 9 characters."}},agreementCheckbox:{checked:"You have to agree to the Terms of use in order to continue."}}});let s=function(){d(),l((e=>({...e,bankAccount:!1,confirmBank:!1,routingAccout:!1}))),document.getElementById("myModal").style.display="block"};const p=n=>{"SUCCESS"===n.status&&(t(!1),e()),"ERROR"===n.status&&(t(!1),e(),window.globalpay.cb(n))};return F("div",{children:F("div",{id:"myModal",class:"nuvei-globalpay-modal",children:F("div",{class:"nuvei-globalpay-modal-content",children:[F("div",{class:"nuvei-globalpay-modal-header",children:F("h2",{class:"nuvei-globalpay-header-content",children:"Enrolling into VIP Preferred ACH"})}),F("h2",{class:"nuvei-globalpay-modal-header-border"}),F("div",{class:"greeting",children:["Welcome ",globalpay.globalpayParams.userDetails.firstName," ",globalpay.globalpayParams.userDetails.lastName,"!"]}),F("div",{class:"info",children:"To enroll in Vip Preferred please enter in the information below"}),F("div",{class:"nuvei-globalpay-modal-body",children:F("form",{onSubmit:function(e){e.preventDefault();let n=[];Object.keys(i).forEach((e=>(i[e].length>0?n.push(!1):n.push(!0),n))),c((e=>({...e,idNumber:!0,idState:!0,idExpiry:!0,routingAccout:!0,bankAccount:!0,globalPaySSN:!0}))),n.includes(!1)||(window.globalpay.globalpayParams.paymentOption={alternativePaymentMethod:{paymentMethod:"apmgw_VIP_Preferred"}},window.globalpay.globalpayParams.bankAccount={accountNumber:o.bankAccount,routingNumber:o.routingAccout},window.globalpay.globalpayParams.userDetails?(window.globalpay.globalpayParams.userDetails={...window.globalpay.globalpayParams.userDetails},window.globalpay.globalpayParams.userDetails.identification=o.globalPaySSN):window.globalpay.globalpayParams.userDetails={identification:o.globalPaySSN},window.globalpay.globalpayParams.documentDetails={documentNumber:o.idNumber,type:o.idSelect,validTo:o.idExpiry,issuingState:o.idState},t(!0),((e,n,t)=>{JSON.parse(JSON.stringify(n));var o=new XMLHttpRequest,i=e+"/ppp/api/v1/enrollAccount.do";o.open("POST",i,!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.timeout=3e4,o.onerror=function(){t({status:"ERROR",type:"network",code:"connection_timeout",errorDescription:"Connection to Safecharge server timed out."})},o.ontimeout=function(){t({error:{type:"network",code:"connection_timeout",message:"Connection to Safecharge server timed out."}})},o.onload=function(){if(200===o.status){var e=Z(o.responseText);console.log(e),t(e)}},o.send(JSON.stringify(n))})(globalpay.server,globalpay.globalpayParams,p)),n.includes(!1)&&(l((e=>({...e,idNumber:!0,idSelect:!0,idState:!0,idExpiry:!0,routingAccout:!0,bankAccount:!0,globalPaySSN:!0,agreementCheckbox:!0}))),globalpay.cb(i))},children:[F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.idNumber&&i.idNumber?"error-field":a.idNumber&&!i.idNumber?"valid-field":""),type:"text",id:"idNumber",maxlength:"30",placeholder:"ID Number",...u("idNumber")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.idNumber&&i.idNumber&&i.idNumber})]}),F("div",{class:"nuvei-dropdown-enroll",children:[F("select",{class:"nuvei-globalPay-enroll-select nuvei-globalPay-select "+(r.idSelect&&i.idSelect?"error-field":o.idSelect?"":"empty-field"),...u("idSelect"),children:[F("option",{value:"",selected:!0,disabled:!0,hidden:!0,children:"-- please select --"}),F("option",{value:"DL",children:"Driver's License"}),F("option",{value:"ST",children:"State ID"}),F("option",{value:"MI",children:"Military ID"}),F("option",{value:"PP",children:"Passport ID"}),F("option",{value:"TI",children:"Tribal ID"})]}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.idSelect&&i.idSelect&&i.idSelect})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.idExpiry&&i.idExpiry?"error-field":a.idExpiry&&!i.idExpiry?"valid-field":""),type:"text",id:"idExpiry",maxlength:"4",placeholder:"ID Expiry (MMYY)",...u("idExpiry")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.idExpiry&&i.idExpiry&&i.idExpiry})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.idState&&i.idState?"error-field":a.idState&&!i.idState?"valid-field":""),type:"text",id:"idState",maxlength:"2",placeholder:"ID State",...u("idState")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.idState&&i.idState&&i.idState})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.routingAccout&&i.routingAccout?"error-field":a.routingAccout&&!i.routingAccout?"valid-field":""),type:"text",id:"routingAccout",maxlength:"9",placeholder:"Routing Account",...u("routingAccout")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.routingAccout&&i.routingAccout&&i.routingAccout})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.bankAccount&&i.bankAccount?"error-field":a.bankAccount&&!i.bankAccount?"valid-field":""),type:"text",id:"bankAccount",maxlength:"17",placeholder:"Bank Account",...u("bankAccount")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.bankAccount&&i.bankAccount&&i.bankAccount})]}),F("div",{class:"nuvei formElement",children:[F("input",{class:"nuvei-form-input "+(r.globalPaySSN&&i.globalPaySSN?"error-field":a.globalPaySSN&&!i.globalPaySSN?"valid-field":""),type:"text",id:"globalPaySSN",maxlength:"9",placeholder:"SSN",...u("globalPaySSN")}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.globalPaySSN&&i.globalPaySSN&&i.globalPaySSN})]}),F("div",{class:"nuvei checkbox",children:[F("input",{class:"nuvei-checkbox-input",type:"checkbox",id:"agreementCheckbox",...u("agreementCheckbox")}),F("label",{for:"agreementCheckbox",children:["I Agree to ",F("a",{href:"https://www.vippreferred.com/en/terms-of-service",target:"_blank",children:"Term & Conditions"})]}),F("p",{class:"nuvei-globalpay-field-error-msg",children:r.agreementCheckbox&&i.agreementCheckbox&&i.agreementCheckbox})]}),F("div",{class:"nuvei-globalpay-buttons",children:[F("button",{class:"nuvei-globalpay-submit-button",type:"submit",children:"Submit"}),F("button",{class:"nuvei-globalpay-close-button",type:"button",onClick:()=>{document.getElementById("myModal").style.display="none"},children:"Close"})]})]})})]})})})},re={"nuvei-globalpay-container":{color:"#717d91",backgroundColor:"#fff",borderRadius:"5px",boxSizing:"border-box",margin:"0 0 5px 0",width:"100%",display:"flex",maxWidth:"1000px",flexWrap:"wrap"},"nuvei-globalpay-balance":{color:"#6B778C",backgroundColor:"#ffffff",fontSize:"14px",margin:"5px 0",width:"100%"},"nuvei-globalpay-welcome-msg":{color:"#6B778C",backgroundColor:"#ffffff",fontSize:"14px",margin:"5px 0",width:"100%"},"nuvei-globalpay-modal-header-border":{borderBottom:"1px solid #ccc",margin:"5px 5%"},"nuvei-dropdown-bank":{position:"relative",margin:"15px 0",display:"inline-block",width:"100%",maxWidth:"720px",minWidth:"220px",height:"44px",borderRadius:"3px",overflow:"hidden"},"nuvei-dropdown-bank:after":{right:"10px",top:"16px",position:"absolute",pointerEvents:"none",content:"''",display:"inline-block",width:"0",height:"0",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #6B778C",marginRight:"0.5em",boxSizing:"content-box"},"nuvei-globalPay-bank-select":{width:"inherit",height:"36px",appearance:"none",display:"inline",maxWidth:"inherit",minWidth:"inherit",margin:"0px 0px",padding:"7px 13px",color:"#4A5568",borderColor:"#95AAC1",backgroundImage:"linear-gradient(0deg, #F7F9FA 0%, #FFFFFF 100%)",borderRadius:"3px",textAlign:"left",fontSize:"14px",position:"relative"},addBankAccount:{display:"inline-block",padding:"0",color:"#14B5F1",fontSize:"16px",fontWeight:"normal",backgroundColor:"transparent",border:"none",cursor:"pointer",margin:"0 0 10px 0"},"addBankAccount:before":{content:"'+'",display:"inline-block",boxSizing:"content-box",width:"17px",height:"17px",margin:"0 .7rem 0 0",border:"2px solid CurrentColor",borderRadius:"50%",lineHeight:"17px"},addBankButton:{width:"100%"},"nuvei-globalpay-modal":{position:"fixed",zIndex:"1",padding:"50px 0 0 0",left:"0",top:"0",width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgba(0,0,0,0.4)"},"nuvei-globalpay-modal-content":{position:"relative",display:"flex",flexDirection:"column",backgroundColor:"#fefefe",margin:"auto",padding:"0",border:"1px solid #888",width:"85%",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)",animationName:"animatetop",animationDuration:"0.4s",overflow:"auto",maxHeight:"calc(100vh - 100px)",maxWidth:"720px"},"nuvei-globalpay-modal-header":{margin:"5px 5%",textAlign:"center"},"nuvei-globalpay-header-content":{fontSize:"20px"},"nuvei-globalpay-submit-button":{fontSize:"16px",fontWeight:"bold",letterSpacing:"0",lineHeight:"22px",textAlign:"center",boxSizing:"border-box",height:"36px",minWidth:"131px",border:"1px solid #15d2a3",borderRadius:"3px",backgroundColor:"#15d2a3",color:"#fafafa",margin:"5px",cursor:"pointer"},"nuvei-globalpay-submit-button:hover":{opacity:"0.7"},"nuvei-globalpay-close-button":{fontFamily:"Nunito Sans",fontSize:"14px",fontWeight:"600",letterSpacing:"0",lineHeight:"22px",textAlign:"center",boxSizing:"border-box",height:"36px",minWidth:"131px",border:"1px solid #6B778C",borderRadius:"3px",backgroundColor:"#ffffff",color:"#6B778C",margin:"5px",cursor:"pointer"},"nuvei-globalpay-close-button:hover":{backgroundColor:"#F4F6F8"},"nuvei-globalpay-close-button:active":{fontWeight:"bold",backgroundColor:"#fff",border:"2px solid #6B778C"},"nuvei-globalpay-buttons":{display:"flex",flexWrap:"wrap",alignContent:"stretch",justifyContent:"center",margin:"20px 0 0 0"},"nuvei-globalpay-field-error-msg":{margin:"0 0 15px 0",color:"#FF3F5A",height:"20px",fontSize:"11px",lineHeight:"2"},"nuvei-form-input.error-field":{border:"1px solid #FF3F5A"},"nuvei-globalpay-modal-body":{margin:"20px 5%"},formElement:{margin:"0 0 15px"},"nuvei-form-input":{width:"100%",padding:"12px 20px",margin:"3px 0 0 0",display:"inline-block",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"},"nuvei-form-input:hover":{padding:"7px 12px",border:"2px solid #95aac1"},"nuvei-form-input:focus":{outline:"none !important",padding:"8px 13px",border:"1px solid #00BECF !important",boxShadow:"0 0 3px #01cbdd"},"nuvei-globalPay-enroll-select:focus":{outline:"none !important",padding:"8px 13px",borderColor:"#00BECF",boxShadow:"0 0 3px #01cbdd"},"nuvei-globalPay-bank-select:focus":{outline:"none !important",borderColor:"#00BECF",boxShadow:"0 0 3px #01cbdd"},"nuvei-checkbox-input":{position:"relative"},"nuvei-checkbox-input:hover:before":{borderColor:"#00BECF"},"nuvei-checkbox-input + label":{marginLeft:"12px"},"nuvei-checkbox-input:before":{content:"''",display:"block",position:"absolute",top:"-1px",left:"-2px",boxSizing:"border-box",height:"16px",width:"16px",border:"1px solid #95AAC1",borderRadius:"3px",backgroundColor:"#fff"},"nuvei-checkbox-input:checked:before":{border:"1px solid #00A6B5",backgroundColor:"#00BECF"},"nuvei-checkbox-input:checked:after":{content:"''",display:"block",width:"4px",height:"7px",border:"solid white",borderWidth:"0 2px 2px 0",transform:"rotate(45deg)",position:"absolute",top:"1px",left:"3px"},"nuvei-dropdown-enroll":{position:"relative",display:"inline",margin:"0",width:"100%",maxWidth:"720px",minWidth:"220px",height:"48px",borderRadius:"4px",overflow:"hidden"},"nuvei-dropdown-enroll:after":{right:"10px",top:"9px",position:"absolute",pointerEvents:"none",content:"''",display:"inline-block",width:"0",height:"0",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #6B778C",marginRight:"0.5em",boxSizing:"content-box"},"nuvei-globalPay-enroll-select":{width:"inherit",height:"36px",appearance:"none",display:"inline",maxWidth:"inherit",minWidth:"inherit",margin:"3px 0 0 0",padding:"8px 13px",color:"#4A5568",backgroundColor:"#ffffff",backgroundImage:"linear-gradient(0deg, #F7F9FA 0%, #FFFFFF 100%)",borderRadius:"3px",textAlign:"left",fontSize:"14px",position:"relative",borderColor:"#95AAC1",lineHeight:"1.4"},"nuvei-globalPay-enroll-select option":{color:"#4A5568"},"empty-field":{color:"#D3DCE6"},"valid-field":{border:"1px solid #95AAC1"},"error-field":{border:"1px solid #FF3F5A"},"nuvei-globalPay-enroll-select.error-field":{color:"#D3DCE6"},"error-field:hover":{padding:"8px 13px",border:"1px solid #FF3F5A"},greeting:{margin:"0 auto",fontSize:"16px",fontWeight:"500"},info:{margin:"0 5%",fontSize:"16px",fontWeight:"500",textAlign:"center"}};function ae(){const[e,n]=U(null),[t,o]=U(null);V((()=>{i()}),[]);const i=()=>{window.globalpay.globalpayParams.paymentOption={alternativePaymentMethod:{paymentMethod:"apmgw_VIP_Preferred"}},delete globalpay.globalpayParams.bankAccount,delete globalpay.globalpayParams.documentDetails,((e,n,t,o)=>{let i={clientRequestId:n.clientRequestId,clientUniqueId:n.clientUniqueId,merchantId:n.merchantId,merchantSiteId:n.merchantSiteId,paymentOption:n.paymentOption,sessionToken:n.sessionToken,userDetails:n.userDetails,userId:n.userId,deviceDetails:n.deviceDetails};var r=new XMLHttpRequest,a=e+"/ppp/api/v1/getAccountDetails.do";r.open("POST",a,!0),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.timeout=3e4,r.onerror=function(){o({status:"ERROR",type:"network",code:"connection_timeout",errorDescription:"Connection to Safecharge server timed out."})},r.ontimeout=function(){return o({error:{type:"network",code:"connection_timeout",message:"Connection to Safecharge server timed out."}})},r.onload=function(){if(200===r.status){if(void 0===document.querySelector(t))throw t+"is not valid DOM element";let e=Z(r.responseText);"ERROR"===e.status&&"536870912"!==e.paymentMethodErrorCode&&o(e),"ERROR"===e.status&&"536870912"===e.paymentMethodErrorCode&&o(e),"ERROR"!==e.status&&o(e)}},r.send(JSON.stringify(i))})(globalpay.server,globalpay.globalpayParams,globalpay.placeholder,r)},r=e=>{if(e&&"connection_timeout"===e.code)window.globalpay.cb(e);else if("ERROR"===e.status&&9091===e.errCode)n(e),window.globalpay.cb(e);else if("ERROR"===e.status)window.globalpay.cb(e);else{n(e);let t=e.bankAccounts[0].accountNumber+"-"+e.bankAccounts[0].routingNumber;o(t),globalpay.paymentVals={selectedAccount:t,accountNumber:e.accountNumber,firstName:globalpay.globalpayParams.userDetails.firstName,lastName:globalpay.globalpayParams.userDetails.lastName,userId:globalpay.globalpayParams.userId,userId:globalpay.globalpayParams.phone},window.globalpay.cb(e)}};if(e&&"ERROR"===e.status)return F("div",{class:"nuvei-globalpay-container",children:F(ie,{callGetAccountDetails:i})});let a,l;return globalpay.globalpayParams.userDetails.firstName&&(a=" "+globalpay.globalpayParams.userDetails.firstName),globalpay.globalpayParams.userDetails.lastName&&(l=" "+globalpay.globalpayParams.userDetails.lastName),e&&F("div",{class:"nuvei-globalpay-container",children:[F("div",{class:"nuvei-globalpay-welcome-msg",children:["Welcome",a,l,"!"]}),F("div",{class:"nuvei-globalpay-balance",children:["Congratulations! Your Vip Preferred network available limit is: $",e&&e.accountBalance]}),e.bankAccounts&&F(ne,{bankAccounts:e.bankAccounts,handleSelectedAccount:e=>{o(e.target.value),globalpay.paymentVals.selectedAccount&&(globalpay.paymentVals.selectedAccount=e.target.value)}}),F(oe,{callGetAccountDetails:i})]})}a.globalpay={init:function(e,n,t,o,i){var r=document.querySelector(e);if(void 0===r)throw e+"is not valid DOM element";var a,l;this.server=o.server,this.globalpayParams=n,this.cb=i,this.placeholder=e,this.styleObject=t;let c=function(e,n){return Object.keys(e).map((t=>{let o=Object.keys(e[t]).map((n=>{var o=e[t][n];return`${ee(n)}: ${o}`})).join(";");return"nuvei-globalpay-container"===t?`.${t} { ${o} } \n`:n?`.${n} .${t} { ${o} } \n`:`.nuvei-globalpay-container .${t} { ${o} } \n`})).join("")}((a=re,l=t,Object.keys(a).forEach((e=>Object.assign(a[e],l[e]))),a));document.head.insertAdjacentHTML("beforeend",`<style>\n  \n        ${c}\n       \n        #nuvei-globalpay-modal {\n            display: none;\n        } \n        \n        /* Add Animation */\n        @keyframes animatetop {\n            from {top:-300px, opacity:0}\n            to {top:0, opacity:1}\n        }\n    \n        <style>`),B(null,r),B(F(ae,{}),r)}}})();